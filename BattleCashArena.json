{
  "contractName": "BattleCashArena",
  "constructorInputs": [
    {
      "name": "owner",
      "type": "bytes20"
    },
    {
      "name": "hashedNonce",
      "type": "bytes32"
    },
    {
      "name": "BattleCashManagerBytecodeHashed",
      "type": "bytes32"
    }
  ],
  "abi": [
    {
      "name": "Battle",
      "inputs": [
        {
          "name": "nonce",
          "type": "int"
        }
      ]
    },
    {
      "name": "Challenged",
      "inputs": [
        {
          "name": "nonce",
          "type": "int"
        },
        {
          "name": "challenger",
          "type": "bytes20"
        }
      ]
    }
  ],
  "bytecode": "OP_3 OP_PICK OP_0 OP_NUMEQUAL OP_IF OP_4 OP_ROLL OP_HASH256 OP_ROT OP_EQUALVERIFY OP_2 OP_UTXOBYTECODE aa20 OP_3 OP_ROLL OP_CAT 87 OP_CAT OP_EQUALVERIFY OP_3 OP_UTXOBYTECODE aa20 OP_ACTIVEBYTECODE OP_HASH256 OP_CAT 87 OP_CAT OP_EQUALVERIFY OP_1 OP_OUTPUTBYTECODE 76a914 OP_ROT OP_CAT 88ac OP_CAT OP_EQUALVERIFY OP_1 OP_OUTPUTTOKENCOMMITMENT OP_3 OP_UTXOTOKENCOMMITMENT OP_EQUALVERIFY OP_1 OP_OUTPUTTOKENAMOUNT OP_3 OP_UTXOTOKENAMOUNT OP_NUMEQUALVERIFY OP_1 OP_OUTPUTTOKENCATEGORY OP_3 OP_UTXOTOKENCATEGORY OP_EQUALVERIFY OP_1 OP_OUTPUTVALUE OP_3 OP_UTXOVALUE OP_NUMEQUAL OP_NIP OP_ELSE OP_3 OP_ROLL OP_1 OP_NUMEQUALVERIFY OP_2 OP_UTXOBYTECODE aa20 OP_4 OP_ROLL OP_CAT 87 OP_CAT OP_EQUALVERIFY OP_INPUTINDEX OP_OUTPUTBYTECODE OP_INPUTINDEX OP_UTXOBYTECODE OP_EQUALVERIFY OP_0 OP_OUTPUTTOKENCOMMITMENT OP_0 OP_UTXOTOKENCOMMITMENT OP_EQUALVERIFY OP_1 OP_OUTPUTTOKENCOMMITMENT OP_0 OP_1 OP_NUM2BIN OP_4 OP_ROLL OP_1 OP_NUM2BIN OP_CAT OP_4 OP_ROLL OP_CAT OP_EQUALVERIFY OP_INPUTINDEX OP_OUTPUTTOKENAMOUNT OP_INPUTINDEX OP_UTXOTOKENAMOUNT OP_NUMEQUALVERIFY OP_INPUTINDEX OP_OUTPUTTOKENCATEGORY OP_INPUTINDEX OP_UTXOTOKENCATEGORY OP_EQUALVERIFY OP_INPUTINDEX OP_OUTPUTVALUE OP_INPUTINDEX OP_UTXOVALUE OP_NUMEQUAL OP_NIP OP_NIP OP_ENDIF",
  "source": "pragma cashscript ^0.13.0;\r\n\r\ncontract BattleCashArena(bytes20 owner, bytes32 hashedNonce, bytes32 BattleCashManagerBytecodeHashed) {\r\n    function Battle(int nonce) {\r\n        require(hash256(nonce) == hashedNonce);\r\n        require(tx.inputs[2].lockingBytecode == new LockingBytecodeP2SH32(BattleCashManagerBytecodeHashed));\r\n        require(tx.inputs[3].lockingBytecode == new LockingBytecodeP2SH32(hash256(this.activeBytecode)));\r\n        require(tx.outputs[1].lockingBytecode == new LockingBytecodeP2PKH(owner));\r\n        require(tx.outputs[1].nftCommitment == tx.inputs[3].nftCommitment);\r\n        require(tx.outputs[1].tokenAmount == tx.inputs[3].tokenAmount);\r\n        require(tx.outputs[1].tokenCategory == tx.inputs[3].tokenCategory);\r\n        require(tx.outputs[1].value == tx.inputs[3].value);\r\n    }\r\n    function Challenged(int nonce, bytes20 challenger){\r\n        require(tx.inputs[2].lockingBytecode == new LockingBytecodeP2SH32(BattleCashManagerBytecodeHashed));\r\n        require(tx.outputs[this.activeInputIndex].lockingBytecode == tx.inputs[this.activeInputIndex].lockingBytecode);\r\n        require(tx.outputs[0].nftCommitment == tx.inputs[0].nftCommitment);\r\n        require(tx.outputs[1].nftCommitment == bytes1(0) + bytes1(nonce) + challenger);\r\n        require(tx.outputs[this.activeInputIndex].tokenAmount == tx.inputs[this.activeInputIndex].tokenAmount);\r\n        require(tx.outputs[this.activeInputIndex].tokenCategory == tx.inputs[this.activeInputIndex].tokenCategory);\r\n        require(tx.outputs[this.activeInputIndex].value == tx.inputs[this.activeInputIndex].value);\r\n    }\r\n}",
  "debug": {
    "bytecode": "5379009c63547aaa7b8852c702aa20537a7e01877e8853c702aa20c1aa7e01877e8851cd0376a9147b7e0288ac7e8851d253cf8851d353d09d51d153ce8851cc53c69c7767537a519d52c702aa20547a7e01877e88c0cdc0c78800d200cf8851d2005180547a51807e547a7e88c0d3c0d09dc0d1c0ce88c0ccc0c69c777768",
    "sourceMap": "4:4:13:5;;;;;5:24:5:29;;:16::30:1;:34::45:0;:8::47:1;6:26:6:27:0;:16::44:1;:48::106:0;:74::105;;:48::106:1;;;:8::108;7:26:7:27:0;:16::44:1;:48::103:0;:82::101;:74::102:1;:48::103;;;:8::105;8:27:8:28:0;:16::45:1;:49::80:0;:74::79;:49::80:1;;;:8::82;9:27:9:28:0;:16::43:1;:57::58:0;:47::73:1;:8::75;10:27:10:28:0;:16::41:1;:55::56:0;:45::69:1;:8::71;11:27:11:28:0;:16::43:1;:57::58:0;:47::73:1;:8::75;12:27:12:28:0;:16::35:1;:49::50:0;:39::57:1;:8::59;4:4:13:5;;14::22::0;;;;15:26:15:27;:16::44:1;:48::106:0;:74::105;;:48::106:1;;;:8::108;16:27:16:48:0;:16::65:1;:79::100:0;:69::117:1;:8::119;17:27:17:28:0;:16::43:1;:57::58:0;:47::73:1;:8::75;18:27:18:28:0;:16::43:1;:54::55:0;:47::56:1;;:66::71:0;;:59::72:1;;:47;:75::85:0;;:47:::1;:8::87;19:27:19:48:0;:16::61:1;:75::96:0;:65::109:1;:8::111;20:27:20:48:0;:16::63:1;:77::98:0;:67::113:1;:8::115;21:27:21:48:0;:16::55:1;:69::90:0;:59::97:1;:8::99;14:4:22:5;;3:0:23:1",
    "logs": [],
    "requires": [
      {
        "ip": 12,
        "line": 5
      },
      {
        "ip": 21,
        "line": 6
      },
      {
        "ip": 30,
        "line": 7
      },
      {
        "ip": 38,
        "line": 8
      },
      {
        "ip": 43,
        "line": 9
      },
      {
        "ip": 48,
        "line": 10
      },
      {
        "ip": 53,
        "line": 11
      },
      {
        "ip": 59,
        "line": 12
      },
      {
        "ip": 73,
        "line": 15
      },
      {
        "ip": 78,
        "line": 16
      },
      {
        "ip": 83,
        "line": 17
      },
      {
        "ip": 97,
        "line": 18
      },
      {
        "ip": 102,
        "line": 19
      },
      {
        "ip": 107,
        "line": 20
      },
      {
        "ip": 113,
        "line": 21
      }
    ]
  },
  "compiler": {
    "name": "cashc",
    "version": "0.13.0-next.1"
  },
  "updatedAt": "2025-11-21T00:28:36.593Z"
}