{
  "contractName": "BattleCashManager",
  "constructorInputs": [
    {
      "name": "BattleCashArenaTemplate",
      "type": "bytes"
    }
  ],
  "abi": [
    {
      "name": "createBattle",
      "inputs": [
        {
          "name": "owner",
          "type": "bytes20"
        },
        {
          "name": "prizeId",
          "type": "bytes32"
        },
        {
          "name": "championId1",
          "type": "bytes32"
        },
        {
          "name": "championId2",
          "type": "bytes32"
        }
      ]
    }
  ],
  "bytecode": "OP_TXINPUTCOUNT OP_3 OP_NUMEQUALVERIFY OP_0 OP_UTXOTOKENCATEGORY OP_0 OP_EQUAL OP_NOT OP_0 OP_UTXOTOKENCATEGORY OP_SIZE OP_NIP 20 OP_NUMEQUAL OP_BOOLAND OP_0 OP_UTXOTOKENCOMMITMENT OP_0 OP_EQUAL OP_NOT OP_BOOLAND OP_VERIFY OP_1 OP_UTXOTOKENCATEGORY OP_0 OP_EQUAL OP_NOT OP_1 OP_UTXOTOKENCATEGORY OP_SIZE OP_NIP 20 OP_NUMEQUAL OP_BOOLAND OP_1 OP_UTXOTOKENCOMMITMENT OP_0 OP_EQUAL OP_BOOLAND OP_VERIFY OP_2 OP_UTXOTOKENCATEGORY OP_0 OP_EQUAL OP_2 OP_UTXOVALUE d007 OP_GREATERTHANOREQUAL OP_BOOLAND OP_VERIFY OP_0 OP_OUTPUTBYTECODE aa20 20 OP_7 OP_PICK OP_CAT 20 OP_CAT OP_6 OP_PICK OP_CAT 20 OP_CAT OP_5 OP_PICK OP_CAT 14 OP_CAT OP_4 OP_PICK OP_CAT OP_3 OP_PICK OP_CAT OP_HASH256 OP_CAT 87 OP_CAT OP_EQUALVERIFY OP_0 OP_OUTPUTTOKENCOMMITMENT OP_0 OP_UTXOTOKENCOMMITMENT OP_EQUALVERIFY OP_0 OP_OUTPUTTOKENAMOUNT OP_0 OP_UTXOTOKENAMOUNT OP_NUMEQUALVERIFY OP_0 OP_OUTPUTTOKENCATEGORY OP_0 OP_UTXOTOKENCATEGORY OP_EQUALVERIFY OP_0 OP_OUTPUTVALUE OP_0 OP_UTXOVALUE OP_NUMEQUALVERIFY OP_INPUTINDEX OP_OUTPUTBYTECODE OP_INPUTINDEX OP_UTXOBYTECODE OP_EQUALVERIFY OP_INPUTINDEX OP_OUTPUTTOKENCOMMITMENT OP_INPUTINDEX OP_UTXOTOKENCOMMITMENT OP_EQUALVERIFY OP_INPUTINDEX OP_OUTPUTTOKENAMOUNT OP_INPUTINDEX OP_UTXOTOKENAMOUNT OP_5 OP_SUB OP_NUMEQUALVERIFY OP_INPUTINDEX OP_OUTPUTTOKENCATEGORY OP_INPUTINDEX OP_UTXOTOKENCATEGORY OP_EQUALVERIFY OP_INPUTINDEX OP_OUTPUTVALUE OP_INPUTINDEX OP_UTXOVALUE OP_NUMEQUALVERIFY OP_INPUTINDEX OP_1ADD OP_OUTPUTBYTECODE aa20 20 OP_7 OP_ROLL OP_CAT 20 OP_CAT OP_6 OP_ROLL OP_CAT 20 OP_CAT OP_5 OP_ROLL OP_CAT 14 OP_CAT OP_4 OP_ROLL OP_CAT OP_3 OP_ROLL OP_CAT OP_HASH256 OP_CAT 87 OP_CAT OP_EQUALVERIFY OP_INPUTINDEX OP_1ADD OP_OUTPUTTOKENCOMMITMENT OP_INPUTINDEX OP_UTXOTOKENCOMMITMENT OP_EQUALVERIFY OP_INPUTINDEX OP_1ADD OP_OUTPUTTOKENAMOUNT OP_5 OP_NUMEQUALVERIFY OP_INPUTINDEX OP_1ADD OP_OUTPUTTOKENCATEGORY OP_INPUTINDEX OP_UTXOTOKENCATEGORY OP_EQUALVERIFY OP_INPUTINDEX OP_1ADD OP_OUTPUTVALUE OP_INPUTINDEX OP_UTXOVALUE OP_NUMEQUALVERIFY OP_2 OP_UTXOVALUE d007 OP_NUMEQUAL OP_IF OP_TXOUTPUTCOUNT OP_3 OP_NUMEQUALVERIFY OP_ELSE OP_TXOUTPUTCOUNT OP_4 OP_NUMEQUALVERIFY OP_3 OP_OUTPUTBYTECODE OP_2 OP_UTXOBYTECODE OP_EQUALVERIFY OP_3 OP_OUTPUTTOKENCATEGORY OP_0 OP_EQUAL OP_3 OP_OUTPUTVALUE OP_2 OP_UTXOVALUE d007 OP_SUB OP_NUMEQUAL OP_BOOLAND OP_VERIFY OP_ENDIF OP_1",
  "source": "pragma cashscript ^0.12.0;\r\n\r\ncontract BattleCashManager(bytes BattleCashArenaTemplate) {\r\n\r\n    function createBattle(bytes20 owner, bytes32 prizeId, bytes32 championId1, bytes32 championId2) {\r\n        require(tx.inputs.length == 3);\r\n\r\n        require(tx.inputs[0].tokenCategory != 0x && tx.inputs[0].tokenCategory.length == 32 && tx.inputs[0].nftCommitment != 0x);\r\n\r\n        require(tx.inputs[1].tokenCategory != 0x && tx.inputs[1].tokenCategory.length == 32 && tx.inputs[1].nftCommitment == 0x);\r\n\r\n        require(tx.inputs[2].tokenCategory == 0x && tx.inputs[2].value >= 2000);\r\n\r\n        require(tx.outputs[0].lockingBytecode == new LockingBytecodeP2SH32(hash256(bytes1(0x20) + championId2 + bytes1(0x20) + championId1 + bytes1(0x20) + prizeId + bytes1(0x14) + owner + BattleCashArenaTemplate)));\r\n        require(tx.outputs[0].nftCommitment == tx.inputs[0].nftCommitment);\r\n        require(tx.outputs[0].tokenAmount == tx.inputs[0].tokenAmount);\r\n        require(tx.outputs[0].tokenCategory == tx.inputs[0].tokenCategory);\r\n        require(tx.outputs[0].value == tx.inputs[0].value);\r\n\r\n        require(tx.outputs[this.activeInputIndex].lockingBytecode == tx.inputs[this.activeInputIndex].lockingBytecode);\r\n        require(tx.outputs[this.activeInputIndex].nftCommitment == tx.inputs[this.activeInputIndex].nftCommitment);\r\n        require(tx.outputs[this.activeInputIndex].tokenAmount == tx.inputs[this.activeInputIndex].tokenAmount - 5);\r\n        require(tx.outputs[this.activeInputIndex].tokenCategory == tx.inputs[this.activeInputIndex].tokenCategory);\r\n        require(tx.outputs[this.activeInputIndex].value == tx.inputs[this.activeInputIndex].value);\r\n\r\n        require(tx.outputs[this.activeInputIndex + 1].lockingBytecode == new LockingBytecodeP2SH32(hash256(bytes1(0x20) + championId2 + bytes1(0x20) + championId1 + bytes1(0x20) + prizeId + bytes1(0x14) + owner + BattleCashArenaTemplate)));\r\n        require(tx.outputs[this.activeInputIndex + 1].nftCommitment == tx.inputs[this.activeInputIndex].nftCommitment);\r\n        require(tx.outputs[this.activeInputIndex + 1].tokenAmount == 5);\r\n        require(tx.outputs[this.activeInputIndex + 1].tokenCategory == tx.inputs[this.activeInputIndex].tokenCategory);\r\n        require(tx.outputs[this.activeInputIndex + 1].value == tx.inputs[this.activeInputIndex].value);\r\n\r\n        if(tx.inputs[2].value == 2000){\r\n            require(tx.outputs.length == 3);\r\n        } else{\r\n            require(tx.outputs.length == 4);\r\n            require(tx.outputs[3].lockingBytecode == tx.inputs[2].lockingBytecode);\r\n            require(tx.outputs[3].tokenCategory == 0x && tx.outputs[3].value == tx.inputs[2].value - 2000);\r\n        }\r\n    }\r\n\r\n}",
  "debug": {
    "bytecode": "c3539d00ce00879100ce827701209c9a00cf0087919a6951ce00879151ce827701209c9a51cf00879a6952ce008752c602d007a29a6900cd02aa20012057797e01207e56797e01207e55797e01147e54797e53797eaa7e01877e8800d200cf8800d300d09d00d100ce8800cc00c69dc0cdc0c788c0d2c0cf88c0d3c0d055949dc0d1c0ce88c0ccc0c69dc08bcd02aa200120577a7e01207e567a7e01207e557a7e01147e547a7e537a7eaa7e01877e88c08bd2c0cf88c08bd3559dc08bd1c0ce88c08bccc0c69d52c602d0079c63c4539d67c4549d53cd52c78853d1008753cc52c602d007949c9a696851",
    "sourceMap": "6:16:6:32;:36::37;:8::39:1;8:26:8:27:0;:16::42:1;:46::48:0;:16:::1;;:62::63:0;:52::78:1;:::85;;:89::91:0;:52:::1;:16;:105::106:0;:95::121:1;:125::127:0;:95:::1;;:16;:8::129;10:26:10:27:0;:16::42:1;:46::48:0;:16:::1;;:62::63:0;:52::78:1;:::85;;:89::91:0;:52:::1;:16;:105::106:0;:95::121:1;:125::127:0;:95:::1;:16;:8::129;12:26:12:27:0;:16::42:1;:46::48:0;:16:::1;:62::63:0;:52::70:1;:74::78:0;:52:::1;:16;:8::80;14:27:14:28:0;:16::45:1;:49::214:0;:90::94;:98::109;;:83:::1;:119::123:0;:83::124:1;:127::138:0;;:83:::1;:148::152:0;:83::153:1;:156::163:0;;:83:::1;:173::177:0;:83::178:1;:181::186:0;;:83:::1;:189::212:0;;:83:::1;:75::213;:49::214;;;:8::216;15:27:15:28:0;:16::43:1;:57::58:0;:47::73:1;:8::75;16:27:16:28:0;:16::41:1;:55::56:0;:45::69:1;:8::71;17:27:17:28:0;:16::43:1;:57::58:0;:47::73:1;:8::75;18:27:18:28:0;:16::35:1;:49::50:0;:39::57:1;:8::59;20:27:20:48:0;:16::65:1;:79::100:0;:69::117:1;:8::119;21:27:21:48:0;:16::63:1;:77::98:0;:67::113:1;:8::115;22:27:22:48:0;:16::61:1;:75::96:0;:65::109:1;:112::113:0;:65:::1;:8::115;23:27:23:48:0;:16::63:1;:77::98:0;:67::113:1;:8::115;24:27:24:48:0;:16::55:1;:69::90:0;:59::97:1;:8::99;26:27:26:48:0;:::52:1;:16::69;:73::238:0;:114::118;:122::133;;:107:::1;:143::147:0;:107::148:1;:151::162:0;;:107:::1;:172::176:0;:107::177:1;:180::187:0;;:107:::1;:197::201:0;:107::202:1;:205::210:0;;:107:::1;:213::236:0;;:107:::1;:99::237;:73::238;;;:8::240;27:27:27:48:0;:::52:1;:16::67;:81::102:0;:71::117:1;:8::119;28:27:28:48:0;:::52:1;:16::65;:69::70:0;:8::72:1;29:27:29:48:0;:::52:1;:16::67;:81::102:0;:71::117:1;:8::119;30:27:30:48:0;:::52:1;:16::59;:73::94:0;:63::101:1;:8::103;32:21:32:22:0;:11::29:1;:33::37:0;:11:::1;:38:34:9:0;33:20:33:37;:41::42;:12::44:1;34:14:38:9:0;35:20:35:37;:41::42;:12::44:1;36:31:36:32:0;:20::49:1;:63::64:0;:53::81:1;:12::83;37:31:37:32:0;:20::47:1;:51::53:0;:20:::1;:68::69:0;:57::76:1;:90::91:0;:80::98:1;:101::105:0;:80:::1;:57;:20;:12::107;34:14:38:9;5:4:39:5",
    "logs": [],
    "requires": [
      {
        "ip": 3,
        "line": 6
      },
      {
        "ip": 22,
        "line": 8
      },
      {
        "ip": 40,
        "line": 10
      },
      {
        "ip": 50,
        "line": 12
      },
      {
        "ip": 80,
        "line": 14
      },
      {
        "ip": 85,
        "line": 15
      },
      {
        "ip": 90,
        "line": 16
      },
      {
        "ip": 95,
        "line": 17
      },
      {
        "ip": 100,
        "line": 18
      },
      {
        "ip": 105,
        "line": 20
      },
      {
        "ip": 110,
        "line": 21
      },
      {
        "ip": 117,
        "line": 22
      },
      {
        "ip": 122,
        "line": 23
      },
      {
        "ip": 127,
        "line": 24
      },
      {
        "ip": 158,
        "line": 26
      },
      {
        "ip": 164,
        "line": 27
      },
      {
        "ip": 169,
        "line": 28
      },
      {
        "ip": 175,
        "line": 29
      },
      {
        "ip": 181,
        "line": 30
      },
      {
        "ip": 189,
        "line": 33
      },
      {
        "ip": 193,
        "line": 35
      },
      {
        "ip": 198,
        "line": 36
      },
      {
        "ip": 211,
        "line": 37
      }
    ]
  },
  "compiler": {
    "name": "cashc",
    "version": "0.12.0"
  },
  "updatedAt": "2025-11-13T14:28:54.335Z"
}